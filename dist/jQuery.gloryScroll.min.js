(function(e,t,n,r){"use strict";e.fn.gloryScroll=function(n){var r=e.extend({element:e(this),attribute:"top",start:0,stop:200,startVal:100,stopVal:200,sprite:false,spriteFrames:16,spriteHeight:1985},n);var i=this,s=[],o=[];this.transpose=function(e,t,n,r,i){var s=n-t;return(e-t)*(i-r)/s+r};this.generateCssArr=function(e){var t=e.split(" ");var n=[];for(var r=0;r<t.length;r++){var e=t[r];if(e.match(/^-|\d/i)){var i=e.replace(/\.|\d|-/ig,"");var s=parseFloat(e);n[r]={animate:true,attr:i,number:s}}else{n[r]={animate:false,string:e}}}return n};this.generateCssString=function(e){var t=[];for(var n=0;n<s.length;n++){var u=s[n];if(u.animate){var a=i.transpose(e,r.start,r.stop,u.number,o[n].number);t.push(a+u.attr)}else{t.push(u.string)}}return t.join(" ")};this.animate=function(){var n=e(t).scrollTop();var s=r.element;var o=r.spriteHeight/r.spriteFrames;if(n>r.start){if(n<r.stop){if(r.sprite){var u=i.transpose(n,r.start,r.stop,0,r.spriteFrames);s.css("background-position","0 -"+Math.floor(u)*o+"px")}else{var a=i.generateCssString(n);s.css(r.attribute,a)}}else{if(r.sprite){s.css("background-position","0 -"+(r.spriteHeight-o)+"px")}else{s.css(r.attribute,r.stopVal)}}}else{if(r.sprite){s.css("background-position","0px 0px")}else{s.css(r.attribute,r.startVal)}}};return this.each(function(){var n=e(r.element).length;if(n){s=i.generateCssArr(r.startVal);o=i.generateCssArr(r.stopVal);i.animate();e(t).scroll(function(){i.animate()})}})}})(jQuery,window,document)